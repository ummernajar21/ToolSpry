<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KMDYXFQTJ1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KMDYXFQTJ1');
</script>

    <title>Practice SQL | ToolSpry</title>
    <meta name="description" content="Practice SQL queries with real datasets. Instant feedback, beginner-friendly errors, runs entirely in your browser.">
    <meta name="keywords" content="SQL practice, SQL playground, learn SQL">

    <meta property="og:title" content="Practice SQL | ToolSpry">
    <meta property="og:description" content="Practice SQL with real datasets. Free, no installation.">
    <meta property="og:image" content="https://toolspry.tech/assets/images/og-image.png">

    <link rel="canonical" href="https://toolspry.tech/practice.html">
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <style>
        html { scroll-behavior: smooth; }

        /* navbar/footer always dark */
        .nav-footer {
            background-color: #24292f !important;
            color: #ffffff !important;
        }
        .nav-footer a { color: #ffffff !important; }
        .nav-footer a:hover { color: #58a6ff !important; }
        .nav-footer button { color: #ffffff !important; }

        /* theme vars */
        :root {
            --bg: #f6f8fa;
            --bg2: #ffffff;
            --text: #24292f;
            --text2: #57606a;
            --border: #d0d7de;
        }

        .dark {
            --bg: #0d1117;
            --bg2: #161b22;
            --text: #c9d1d9;
            --text2: #8b949e;
            --border: #30363d;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            transition: all 0.3s;
        }

        .card { background-color: var(--bg2); }
        .txt2 { color: var(--text2); }
        .bdr { border-color: var(--border); }

        .mobile-menu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s;
        }
        .mobile-menu.active { max-height: 500px; }

        #editor {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
        }

        .schema-box {
            max-height: calc(100vh - 300px);
            overflow-y: auto;
        }

        .results {
            max-height: 400px;
            overflow: auto;
        }

        .results table {
            border-collapse: collapse;
            width: 100%;
            font-size: 14px;
        }

        .results th {
            background-color: var(--bg2);
            position: sticky;
            top: 0;
            font-weight: 600;
            text-align: left;
            padding: 8px 12px;
            border-bottom: 2px solid var(--border);
        }

        .results td {
            padding: 8px 12px;
            border-bottom: 1px solid var(--border);
        }

        .results tr:hover { background-color: var(--bg); }

        .btn-run {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn-run:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(9, 105, 218, 0.3);
        }
        .btn-run:active { transform: translateY(0); }

        .spinner {
            border: 2px solid var(--border);
            border-top: 2px solid #0969da;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* History dropdown - UPDATED */
        #history-dropdown {
            position: absolute;
            right: 0;
            top: 100%;
            margin-top: 8px;
            width: 400px;
            max-width: 90vw;
            max-height: 400px;
            overflow: hidden;
            z-index: 50;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        @media (max-width: 768px) {
            #editor { min-height: 200px; font-size: 13px; }
            .schema-box { max-height: 300px; }
            #history-dropdown { width: 300px; }
        }
    </style>
</head>
<body>

    <nav class="nav-footer sticky top-0 z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">

                <div class="flex items-center">
                    <a href="/" class="text-2xl font-bold hover:opacity-80 transition">
                        ‚ö° ToolSpry
                    </a>
                </div>

                <div class="hidden md:flex items-center space-x-8">
                    <a href="/practice.html" class="opacity-80">Practice</a>
                    <a href="/challenges/" class="hover:opacity-80 transition">Challenges</a>
                    <a href="/learn/" class="hover:opacity-80 transition">Learn</a>
                    <a href="/about.html" class="hover:opacity-80 transition">About</a>
                    <a href="/contact.html" class="hover:opacity-80 transition">Contact</a>

                    <button id="theme-btn" class="p-2 rounded-lg hover:bg-gray-700 transition">
                        <span id="theme-icon">üåô</span>
                    </button>

                    <a href="https://ko-fi.com/toolspry"
                       target="_blank"
                       rel="noopener"
                       class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg transition font-medium">
                        ‚òï Support
                    </a>
                </div>

                <button id="menu-btn" class="md:hidden p-2 rounded-lg hover:bg-gray-700 transition">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>

            <div id="mobile-menu" class="mobile-menu md:hidden">
                <div class="py-4 space-y-3">
                    <a href="/practice.html" class="block px-4 py-2 bg-gray-700 rounded">Practice</a>
                    <a href="/challenges/" class="block px-4 py-2 hover:bg-gray-700 rounded transition">Challenges</a>
                    <a href="/learn/" class="block px-4 py-2 hover:bg-gray-700 rounded transition">Learn</a>
                    <a href="/about.html" class="block px-4 py-2 hover:bg-gray-700 rounded transition">About</a>
                    <a href="/contact.html" class="block px-4 py-2 hover:bg-gray-700 rounded transition">Contact</a>

                    <div class="flex items-center justify-between px-4 py-2">
                        <span>Theme</span>
                        <button id="theme-btn-mobile" class="p-2 rounded-lg hover:bg-gray-700 transition">
                            <span id="theme-icon-mobile">üåô</span>
                        </button>
                    </div>

                    <a href="https://ko-fi.com/toolspry"
                       target="_blank"
                       rel="noopener"
                       class="block mx-4 text-center bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg transition font-medium">
                        ‚òï Support
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <main class="py-6">

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">Practice SQL</h1>
            <p class="txt2 text-lg">Write real SQL. Read real feedback. Learn calmly.</p>
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

            <div class="mb-6">
                <label for="dataset" class="block text-sm font-medium mb-2">Choose dataset</label>
                <select id="dataset" class="w-full md:w-auto bdr card border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="customers">üë• Customers (350 rows) - E-commerce</option>
                    <option value="employees" selected>üíº Employees (180 rows) - HR data</option>
                    <option value="orders">üì¶ Orders (650 rows) - Purchases</option>
                    <option value="products">üõçÔ∏è Products (250 rows) - Catalog</option>
                    <option value="sales">üìä Sales (800 rows) - Analytics</option>
                    <option value="departments">üè¢ Departments (12 rows)</option>
                    <option value="transactions">üí≥ Transactions (500 rows)</option>
                </select>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                <!-- sidebar -->
                <div class="lg:col-span-1 space-y-6">

                    <div class="card bdr border rounded-lg p-6">
                        <h2 class="text-xl font-bold mb-4">Your task</h2>
                        <div id="task-content" class="txt2 space-y-3">
                            <p class="font-medium" style="color: var(--text);">Practice with employees dataset</p>

                            <p class="text-sm">Try these:</p>
                            <ul class="text-sm space-y-2">
                                <li>‚Ä¢ SELECT * FROM employees</li>
                                <li>‚Ä¢ Find Sales department employees</li>
                                <li>‚Ä¢ Top 5 highest salaries</li>
                                <li>‚Ä¢ Average salary by department</li>
                            </ul>

                            <div class="mt-4 pt-4 bdr" style="border-top-width: 1px;">
                                <a href="/challenges/" class="text-blue-600 dark:text-blue-400 hover:underline text-sm">
                                    Want guided challenges? ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Examples Section -->
                    <div class="card bdr border rounded-lg p-6">
                        <h2 class="text-xl font-bold mb-4">üìö Examples</h2>
                        <div id="examples-content" class="space-y-2">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>

                    <div class="card bdr border rounded-lg p-6">
                        <h2 class="text-xl font-bold mb-4">Table schema</h2>
                        <div id="schema-content" class="schema-box">
                            <div class="text-sm space-y-2">
                                <div class="font-semibold text-blue-600 dark:text-blue-400 mb-3">
                                    üìã employees (180 rows)
                                </div>

                                <div class="space-y-1 font-mono text-xs">
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>employee_id</span>
                                        <span class="txt2">INTEGER</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>first_name</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>last_name</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>email</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>department</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>job_title</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>salary</span>
                                        <span class="txt2">INTEGER</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>hire_date</span>
                                        <span class="txt2">DATE</span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>manager_id</span>
                                        <span class="txt2">INTEGER <span class="text-xs">(some NULL)</span></span>
                                    </div>
                                    <div class="flex justify-between p-2 card rounded hover:opacity-80 cursor-pointer">
                                        <span>office_location</span>
                                        <span class="txt2">TEXT</span>
                                    </div>
                                </div>

                                <div class="mt-4 pt-3 bdr text-xs txt2" style="border-top-width: 1px;">
                                    üí° Most errors come from typos in column names
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- editor + results -->
                <div class="lg:col-span-2 space-y-6">

                    <div class="card bdr border rounded-lg overflow-hidden">
                        <div class="card bdr px-4 py-3 flex justify-between items-center" style="border-bottom-width: 1px;">
                            <h2 class="font-semibold">SQL editor</h2>
                            <div class="flex items-center gap-2">
                                <!-- History Button -->
                                <div class="relative">
                                    <button id="history-btn"
                                            class="text-sm px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition"
                                            title="View query history">
                                        üìú History
                                    </button>
                                    <div id="history-dropdown" class="hidden card bdr border rounded-lg">
                                        <!-- Populated by JavaScript -->
                                    </div>
                                </div>

                                <button id="clear" class="text-sm px-3 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition">
                                    Clear
                                </button>
                                <span class="text-xs txt2">Ctrl+Enter to run</span>
                            </div>
                        </div>

                        <div class="p-4">
                            <textarea
                                id="editor"
                                class="w-full card bdr border rounded p-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                rows="10"
                                placeholder="SELECT first_name, last_name, salary
FROM employees
WHERE department = 'Sales'
ORDER BY salary DESC
LIMIT 5;

Tip: SQL keywords aren't case-sensitive"
                                spellcheck="false"></textarea>
                        </div>

                        <div class="px-4 pb-4 flex flex-wrap gap-3 items-center">
                            <button id="run"
                                    class="btn-run bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium"
                                    title="Run your SQL query (Ctrl+Enter)">
                                ‚ñ∂ Run query
                            </button>
                            <button id="format"
                                    class="bdr border px-4 py-3 rounded-lg hover:opacity-80 transition"
                                    title="Format and beautify your SQL (Ctrl+Shift+F)">
                                ‚ú® Format
                            </button>
                            <button id="shortcuts-btn"
                                    class="bdr border px-4 py-3 rounded-lg hover:opacity-80 transition"
                                    title="View keyboard shortcuts (Ctrl+/)">
                                ‚å®Ô∏è Shortcuts
                            </button>
                        </div>
                    </div>

                    <div class="card bdr border rounded-lg overflow-hidden">
                        <div class="card bdr px-4 py-3 flex justify-between items-center" style="border-bottom-width: 1px;">
                            <h2 class="font-semibold">Results</h2>
                            <div id="meta" class="text-xs txt2"></div>
                        </div>

                        <div id="output" class="p-4">

                            <div id="empty" class="text-center py-12 txt2">
                                <div class="text-4xl mb-4">üí°</div>
                                <p>Run a query to see results</p>
                                <p class="text-sm mt-2">Try clicking an example from the sidebar</p>
                            </div>

                            <div id="loading" class="hidden text-center py-12">
                                <div class="spinner mx-auto mb-4"></div>
                                <p class="txt2">Running...</p>
                            </div>

                            <div id="error" class="hidden bg-red-50 dark:bg-red-900/20 bdr rounded-lg p-6" style="border-color: #fca5a5;">
                                <div class="flex gap-3">
                                    <div class="text-2xl">‚ö†Ô∏è</div>
                                    <div class="flex-1">
                                        <h3 class="font-bold text-red-900 dark:text-red-300 mb-2">Something's wrong</h3>
                                        <p id="error-msg" class="text-red-800 dark:text-red-200 mb-3"></p>
                                        <div id="error-hint" class="text-sm text-red-700 dark:text-red-300"></div>
                                        <!-- Smart suggestions -->
                                        <div id="error-suggestion" class="hidden"></div>
                                    </div>
                                </div>
                            </div>

                            <div id="success" class="hidden space-y-4">
                                <div class="bg-green-50 dark:bg-green-900/20 bdr rounded-lg p-4" style="border-color: #86efac;">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-2 text-green-900 dark:text-green-300">
                                            <span>‚úì</span>
                                            <span id="success-msg" class="font-medium"></span>
                                        </div>

                                        <!-- Export Buttons -->
                                        <div id="export-buttons" class="flex gap-2">
                                            <button onclick="copyResultsToClipboard(event)"
                                                    class="text-sm px-3 py-1 rounded hover:bg-green-100 dark:hover:bg-green-800 transition"
                                                    title="Copy results to clipboard">
                                                üìã Copy
                                            </button>
                                            <button onclick="exportToCSV()"
                                                    class="text-sm px-3 py-1 rounded hover:bg-green-100 dark:hover:bg-green-800 transition"
                                                    title="Download as CSV file">
                                                ‚¨áÔ∏è CSV
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="results">
                                    <table id="table">
                                        <thead id="thead"></thead>
                                        <tbody id="tbody"></tbody>
                                    </table>
                                </div>

                                <div class="bg-blue-50 dark:bg-blue-900/20 bdr rounded-lg p-4 text-sm" style="border-color: #93c5fd;">
                                    <div class="font-medium text-blue-900 dark:text-blue-300 mb-2">üí° What happened:</div>
                                    <p id="explain" class="text-blue-800 dark:text-blue-200"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

        </div>

    </main>

    <!-- footer -->
    <footer class="nav-footer py-12 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">

                <div>
                    <div class="text-2xl font-bold mb-4">‚ö° ToolSpry</div>
                    <p class="text-sm opacity-80">
                        Practice SQL with real datasets. Free forever.
                    </p>
                </div>

                <div>
                    <h3 class="font-bold mb-4">Learn</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/practice.html" class="hover:opacity-80 transition">Practice SQL</a></li>
                        <li><a href="/challenges/" class="hover:opacity-80 transition">45 Challenges</a></li>
                        <li><a href="/learn/" class="hover:opacity-80 transition">SQL Guides</a></li>
                        <li><a href="/learn/sql-basics-beginners.html" class="hover:opacity-80 transition">Beginners Guide</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-bold mb-4">Resources</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/learn/sql-errors-beginners.html" class="hover:opacity-80 transition">Common Errors</a></li>
                        <li><a href="/learn/sql-null-explained.html" class="hover:opacity-80 transition">Understanding NULL</a></li>
                        <li><a href="/about.html" class="hover:opacity-80 transition">About</a></li>
                        <li><a href="https://ko-fi.com/toolspry" target="_blank" rel="noopener" class="hover:opacity-80 transition">‚òï Support</a></li>
                    </ul>
                </div>

                <div>
                    <h3 class="font-bold mb-4">Contact</h3>
                    <ul class="space-y-2 text-sm">
                        <li><a href="mailto:info@toolspry.tech" class="hover:opacity-80 transition">info@toolspry.tech</a></li>
                        <li><a href="/contact.html" class="hover:opacity-80 transition">Contact Form</a></li>
                        <li><a href="/privacy.html" class="hover:opacity-80 transition">Privacy</a></li>
                        <li><a href="/terms.html" class="hover:opacity-80 transition">Terms</a></li>
                        <li><a href="/disclaimer.html" class="hover:opacity-80 transition">Disclaimer</a></li>
                    </ul>
                </div>

            </div>

            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm opacity-80">
                <p>&copy; 2026 ToolSpry. Built for beginners.</p>
            </div>
        </div>
    </footer>

    <!-- SQL.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.12.0/sql-wasm.js"></script>


    <!-- Our scripts -->
    <script src="/assets/js/dataset-loader.js"></script>
    <script src="/assets/js/practice.js"></script>

    <script>
        // theme on load
        (function() {
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark');
            }
        })();

        document.addEventListener('DOMContentLoaded', function() {

            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const themeBtn = document.getElementById('theme-btn');
            const themeBtnMobile = document.getElementById('theme-btn-mobile');
            const themeIcon = document.getElementById('theme-icon');
            const themeIconMobile = document.getElementById('theme-icon-mobile');

            // mobile menu
            if (menuBtn && mobileMenu) {
                menuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('active');
                });
            }

            // theme
            function updateIcons(dark) {
                const icon = dark ? '‚òÄÔ∏è' : 'üåô';
                if (themeIcon) themeIcon.textContent = icon;
                if (themeIconMobile) themeIconMobile.textContent = icon;
            }

            updateIcons(localStorage.getItem('theme') === 'dark');

            function toggleTheme() {
                const dark = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', dark ? 'dark' : 'light');
                updateIcons(dark);
            }

            if (themeBtn) themeBtn.addEventListener('click', toggleTheme);
            if (themeBtnMobile) themeBtnMobile.addEventListener('click', toggleTheme);

            // close menu on outside click
            document.addEventListener('click', (e) => {
                if (menuBtn && mobileMenu && !menuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.remove('active');
                }
            });

            // close menu on resize
            window.addEventListener('resize', () => {
                if (mobileMenu && window.innerWidth >= 768) {
                    mobileMenu.classList.remove('active');
                }
            });
        });
    </script>

</body>
</html>
